# Web 计算机网络


## TCP 与 UDP


### TCP-三次握手与四次挥手

1. 为什么 TCP 一定要握手三次？
计算机之间还存在着一个叫“网络状态”的东西，这货很有可能会影响两台计算机的沟通。通过三次握手，客户端经历了一次请求和一次响应，服务端也经历了一次请求和一次响应，这时一方面确认了当前网络状态不错，另一方面又确认了自己这个沟通对象既能请求又能响应、确实没毛病。只有在这样安全、稳定的前提下，两台计算机之间才可以建立起 TCP 连接。

2. 四次挥手——难舍难分的告别
客户端：我妈喊我回家吃饭，先走了
服务器：啥？你妈喊你回去你就回去，不跟我玩了是吧？
服务器：好，给老娘滚
客户端：我滚了

3. 为什么TCP分手一定要挥手四次？
TCP连接是全双工协议，就是说双方都可以同时向对方发送或接收数据。
当客户端在想要断开连接时，只能确认自己没有数据要传输给服务器了，但并不能确认服务器是否还有数据要发送。


### TCP与UDP的辨析

TCP 协议下，连接的建立需要三次握手，这是为了确保双方能够确实建立起稳定的传输通道。因此，TCP 又被称为“面向连接的可靠传输”。
UDP 则恰恰相反，它的世界里没有握手、没有知情同意，是一个非常随性的协议。UDP 又被称为是“无连接的不可靠传输”。

1. UDP 的应用场景
优点：
- 它可以面向多方提供服务：UDP 不止支持一对一的传输方式，同样支持一对多，多对多，多对一的方式。单播、多播、广播它都不在话下。
- 头部开销小：UDP 头部只有 8 个字节大，而 TCP 需要 20 个字节。同样的报文内容，UDP 会比 TCP 更高效。
- 随意也是优点：有时候，我们的连接是需要实时建立的，并没有那么多的资源去给你反复的三次握手和四次挥手，这种场景下，UDP “想发就发”反而更显灵活。

应用场景：在一些对实时性要求比较强的场合，比如网络电话、视频会议、在线直播这些地方，UDP 比 TCP 更加合适。而像文件传输这样对可靠性和稳定性要求比较高、同时本身连接的确定性也比较强的需求，用 TCP 来解决会更稳妥。